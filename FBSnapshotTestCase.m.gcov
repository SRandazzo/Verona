        -:    0:Source:/Users/Sal/Documents/GIT/Verona/Pods/FBSnapshotTestCase/FBSnapshotTestCase/FBSnapshotTestCase.m
        -:    0:Graph:./Pods/ObjectiveC.gcno
        -:    0:Data:./Pods/ObjectiveC.gcda
        -:    0:Runs:6
        -:    0:Programs:1
        -:    1:/*
        -:    2: *  Copyright (c) 2015, Facebook, Inc.
        -:    3: *  All rights reserved.
        -:    4: *
        -:    5: *  This source code is licensed under the BSD-style license found in the
        -:    6: *  LICENSE file in the root directory of this source tree. An additional grant
        -:    7: *  of patent rights can be found in the PATENTS file in the same directory.
        -:    8: *
        -:    9: */
        -:   10:
        -:   11:#import <FBSnapshotTestCase/FBSnapshotTestCase.h>
        -:   12:#import <FBSnapshotTestCase/FBSnapshotTestController.h>
        -:   13:
    #####:   14:@implementation FBSnapshotTestCase
        -:   15:{
        -:   16:  FBSnapshotTestController *_snapshotController;
        -:   17:}
        -:   18:
        -:   19:#pragma mark - Overrides
        -:   20:
        -:   21:- (void)setUp
        -:   22:{
10615901472:   23:  [super setUp];
10615901472:   24:  _snapshotController = [[FBSnapshotTestController alloc] initWithTestName:NSStringFromClass([self class])];
10615901472:   25:}
        -:   26:
        -:   27:- (void)tearDown
        -:   28:{
10615901472:   29:  _snapshotController = nil;
10615901472:   30:  [super tearDown];
10615901472:   31:}
        -:   32:
        -:   33:- (BOOL)recordMode
        -:   34:{
10615901472:   35:  return _snapshotController.recordMode;
        -:   36:}
        -:   37:
        -:   38:- (void)setRecordMode:(BOOL)recordMode
        -:   39:{
31847704416:   40:  NSAssert1(_snapshotController, @"%s cannot be called before [super setUp]", __FUNCTION__);
10615901472:   41:  _snapshotController.recordMode = recordMode;
10615901472:   42:}
        -:   43:
        -:   44:- (BOOL)usesDrawViewHierarchyInRect
        -:   45:{
    #####:   46:  return _snapshotController.usesDrawViewHierarchyInRect;
        -:   47:}
        -:   48:
        -:   49:- (void)setUsesDrawViewHierarchyInRect:(BOOL)usesDrawViewHierarchyInRect
        -:   50:{
    #####:   51:  NSAssert1(_snapshotController, @"%s cannot be called before [super setUp]", __FUNCTION__);
    #####:   52:  _snapshotController.usesDrawViewHierarchyInRect = usesDrawViewHierarchyInRect;
    #####:   53:}
        -:   54:
        -:   55:#pragma mark - Public API
        -:   56:
        -:   57:- (BOOL)compareSnapshotOfLayer:(CALayer *)layer
        -:   58:      referenceImagesDirectory:(NSString *)referenceImagesDirectory
        -:   59:                    identifier:(NSString *)identifier
        -:   60:                     tolerance:(CGFloat)tolerance
        -:   61:                         error:(NSError **)errorPtr
        -:   62:{
21231802944:   63:  return [self _compareSnapshotOfViewOrLayer:layer
10615901472:   64:                    referenceImagesDirectory:referenceImagesDirectory
10615901472:   65:                                  identifier:identifier
10615901472:   66:                                   tolerance:tolerance
10615901472:   67:                                       error:errorPtr];
10615901472:   68:}
        -:   69:
        -:   70:- (BOOL)compareSnapshotOfView:(UIView *)view
        -:   71:     referenceImagesDirectory:(NSString *)referenceImagesDirectory
        -:   72:                   identifier:(NSString *)identifier
        -:   73:                    tolerance:(CGFloat)tolerance
        -:   74:                        error:(NSError **)errorPtr
        -:   75:{
    #####:   76:  return [self _compareSnapshotOfViewOrLayer:view
    #####:   77:                    referenceImagesDirectory:referenceImagesDirectory
    #####:   78:                                  identifier:identifier
    #####:   79:                                   tolerance:tolerance
    #####:   80:                                       error:errorPtr];
    #####:   81:}
        -:   82:
        -:   83:- (NSString *)getReferenceImageDirectoryWithDefault:(NSString *)dir
        -:   84:{
10615901472:   85:  NSString *envReferenceImageDirectory = [NSProcessInfo processInfo].environment[@"FB_REFERENCE_IMAGE_DIR"];
10615901472:   86:  if (envReferenceImageDirectory) {
10615901472:   87:    return envReferenceImageDirectory;
        -:   88:  }
    #####:   89:  if (dir && dir.length > 0) {
    #####:   90:    return dir;
        -:   91:  }
    #####:   92:  return [[NSBundle bundleForClass:self.class].resourcePath stringByAppendingPathComponent:@"ReferenceImages"];
10615901472:   93:}
        -:   94:
        -:   95:
        -:   96:#pragma mark - Private API
        -:   97:
        -:   98:- (BOOL)_compareSnapshotOfViewOrLayer:(id)viewOrLayer
        -:   99:             referenceImagesDirectory:(NSString *)referenceImagesDirectory
        -:  100:                           identifier:(NSString *)identifier
        -:  101:                            tolerance:(CGFloat)tolerance
        -:  102:                                error:(NSError **)errorPtr
        -:  103:{
10615901472:  104:  _snapshotController.referenceImagesDirectory = referenceImagesDirectory;
21231802944:  105:  return [_snapshotController compareSnapshotOfViewOrLayer:viewOrLayer
10615901472:  106:                                                  selector:self.invocation.selector
10615901472:  107:                                                identifier:identifier
10615901472:  108:                                                 tolerance:tolerance
10615901472:  109:                                                     error:errorPtr];
10615901472:  110:}
        -:  111:
        -:  112:@end

        -:    0:Source:/Users/Sal/Documents/GIT/Verona/Pods/FBSnapshotTestCase/FBSnapshotTestCase/Categories/UIImage+Diff.m
        -:    0:Graph:/Users/Sal/Library/Developer/Xcode/DerivedData/Verona-fgfbmnilklhvdihbxoslbfynjgbp/Build/Intermediates/Pods.build/Debug-iphonesimulator/FBSnapshotTestCase.build/Objects-normal/x86_64/UIImage+Diff.gcno
        -:    0:Data:/Users/Sal/Library/Developer/Xcode/DerivedData/Verona-fgfbmnilklhvdihbxoslbfynjgbp/Build/Intermediates/Pods.build/Debug-iphonesimulator/FBSnapshotTestCase.build/Objects-normal/x86_64/UIImage+Diff.gcda
        -:    0:Runs:9
        -:    0:Programs:1
        -:    1://
        -:    2://  Created by Gabriel Handford on 3/1/09.
        -:    3://  Copyright 2009-2013. All rights reserved.
        -:    4://  Created by John Boiles on 10/20/11.
        -:    5://  Copyright (c) 2011. All rights reserved
        -:    6://  Modified by Felix Schulze on 2/11/13.
        -:    7://  Copyright 2013. All rights reserved.
        -:    8://
        -:    9://  Permission is hereby granted, free of charge, to any person
        -:   10://  obtaining a copy of this software and associated documentation
        -:   11://  files (the "Software"), to deal in the Software without
        -:   12://  restriction, including without limitation the rights to use,
        -:   13://  copy, modify, merge, publish, distribute, sublicense, and/or sell
        -:   14://  copies of the Software, and to permit persons to whom the
        -:   15://  Software is furnished to do so, subject to the following
        -:   16://  conditions:
        -:   17://
        -:   18://  The above copyright notice and this permission notice shall be
        -:   19://  included in all copies or substantial portions of the Software.
        -:   20://
        -:   21://  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
        -:   22://  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
        -:   23://  OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
        -:   24://  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
        -:   25://  HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
        -:   26://  WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
        -:   27://  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
        -:   28://  OTHER DEALINGS IN THE SOFTWARE.
        -:   29://
        -:   30:
        -:   31:#import <FBSnapshotTestCase/UIImage+Diff.h>
        -:   32:
        -:   33:@implementation UIImage (Diff)
        -:   34:
        -:   35:- (UIImage *)fb_diffWithImage:(UIImage *)image
        -:   36:{
    #####:   37:  if (!image) {
    #####:   38:    return nil;
        -:   39:  }
    #####:   40:  CGSize imageSize = CGSizeMake(MAX(self.size.width, image.size.width), MAX(self.size.height, image.size.height));
    #####:   41:  UIGraphicsBeginImageContextWithOptions(imageSize, YES, 0);
    #####:   42:  CGContextRef context = UIGraphicsGetCurrentContext();
    #####:   43:  [self drawInRect:CGRectMake(0, 0, self.size.width, self.size.height)];
    #####:   44:  CGContextSetAlpha(context, 0.5);
    #####:   45:  CGContextBeginTransparencyLayer(context, NULL);
    #####:   46:  [image drawInRect:CGRectMake(0, 0, image.size.width, image.size.height)];
    #####:   47:  CGContextSetBlendMode(context, kCGBlendModeDifference);
    #####:   48:  CGContextSetFillColorWithColor(context,[UIColor whiteColor].CGColor);
    #####:   49:  CGContextFillRect(context, CGRectMake(0, 0, self.size.width, self.size.height));
    #####:   50:  CGContextEndTransparencyLayer(context);
    #####:   51:  UIImage *returnImage = UIGraphicsGetImageFromCurrentImageContext();
    #####:   52:  UIGraphicsEndImageContext();
    #####:   53:  return returnImage;
    #####:   54:}
        -:   55:
        -:   56:@end
